<html>
<head>
<meta charset="UTF-8" />
<script language="JavaScript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script>

var data = {};

function getMatrix()
{
	var m = [];
	$("#matrix tr").each(function(){
		var  val = 0;
		$(this).find("td").each(function(idx, el){
			val = val | (($(el).hasClass("on") ? 1 : 0) << idx);
		});
		m.push(val);
	});
	console.log(m);
	return m;
}

function setMatrix(matrix)
{
	clear();

	var trs = $("#matrix tr");
	jQuery.each(matrix, function(row_idx, val)
	{
		trs.eq(row_idx).find("td").each(function(col_idx, el)
		{
			if (val & (1 << col_idx)) $(el).addClass("on");
		});
	});
}

function setSymbol(evt)
{
	evt.preventDefault();
	var symbol = $("#symbol").val()
	var matrix = getMatrix();
	data[symbol] = matrix;

	var link = $("#symbols ul").find("#symbol_" + symbol);
	if (!link.length)
	{
		link = $(document.createElement("a"))
			.attr({href: "#", id: "symbol_" + symbol})
			.data({symbol: symbol})
			.text(symbol)
			.appendTo($(document.createElement("li")).appendTo("#symbols ul"))
			.click(showSymbol);
	}
}

function addToSymbol(evt)
{
	evt.preventDefault();	
	var symbol = $("#symbol").val()
	var matrix = getMatrix();
	if (!data[symbol]) setSymbol(evt);
	else if (typeof(data[symbol][0]) == "number") data[symbol] = [data[symbol], matrix]
	else if (typeof(data[symbol][0]) == "object") data[symbol].push(matrix);
}

function clear(evt)
{
	if (evt) evt.preventDefault();
	tds.removeClass("on");
}

function doExport(evt)
{
	if (evt) evt.preventDefault();
	$("#exported_data").val(JSON.stringify(data));
}

var draw_animation_symbol = null;
var draw_animation_interval_id = 0;
var draw_animation_cur_idx = -1;
function animate()
{
	draw_animation_cur_idx = (draw_animation_cur_idx + 1) % data[draw_animation_symbol].length;
	matrix = data[draw_animation_symbol][draw_animation_cur_idx];
	setMatrix(matrix);

}

function stopanimation()
{
	clearInterval(draw_animation_interval_id);
	clear();
}

function showSymbol(evt)
{
	evt.preventDefault();
	stopanimation();

	var block = data[$(this).text()];
	if (typeof(block[0]) == "object")
	{
		// animation sequence, animate :)
		draw_animation_symbol = $(this).text();
		draw_animation_interval_id = setInterval(animate, 150);
	}
	else setMatrix(block);
}

function doImport(evt)
{
	if (evt) evt.preventDefault();
	tmp = JSON.parse($("#exported_data").val());

	// set links
	var ul = $("#symbols ul").empty();

	for (var symbol in tmp)
	{
		link = $(document.createElement("a"))
			.attr({href: "#", id: "symbol_" + symbol})
			.text(symbol)
			.appendTo($(document.createElement("li")).appendTo(ul))
			.click(showSymbol);
	}

	$("#exported_data").val("");
	data = tmp;
}

var draw_starttime = null;
var draw_startcell = null;
var draw_interval_id = null;
var draw_single_click_delay = 200;
function noop(){};

var _dodraw = noop;

function begindraw(evt)
{
	draw_starttime = (new Date()).getTime();
	draw_startcell = this;
	_dodraw = __dodraw;
	draw_interval_id = setTimeout(function(){$(draw_startcell).mouseenter()}, draw_single_click_delay);
}

function dodraw(evt)
{
	console.log("dodraw", this);
	_dodraw.apply(this, [evt]);
}

function __dodraw()
{
	$(this).addClass("on");
}

function enddraw(evt)
{
	evt.stopPropagation();

	var now = (new Date()).getTime();
	if (now - draw_starttime <= draw_single_click_delay && draw_startcell == this)
	{
		// single click in current cell
		clearTimeout(draw_interval_id);
		$(this).toggleClass("on");
	}
	_dodraw = noop;
}

$(function(){
	tds = $("#matrix td").mousedown(begindraw).mouseup(enddraw).mouseenter(dodraw);
	$(document).mouseup(enddraw);

	$("#clear").click(clear);
	$("#set").click(setSymbol);
	$("#add").click(addToSymbol);
	$("#export").click(doExport);
	$("#import").click(doImport);
	$("#stop_animation").click(stopanimation);
	$("#exported_data, #symbol").val("");
});
</script>
<style>
#matrix {padding: 25px; float: left; width: 426px;}
#matrix table, #matrix table tr, 
{
	background-color: yellow;
	border: 2px yellow solid;
}
#matrix table td
{
	background-color: #999;
	border: 2px yellow solid;
}
#matrix table td
{
	width: 45px;
	height: 50px;
}
#matrix table td.on
{
	background-color: #000;
}
#exported_data
{
	width: 500px;
	height: 250px;
}
#symbols
{
	margin-left: 476px;
}
#symbols ul, #symbols li
{
	list-style: none
	margin: 0;
	padding: 0;
}
#symbols li
{
	display: inline;
	margin-right: 10px;
}
</style>
</head>
<body>
<div id="matrix">
	<table>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	</table>
	<a href="#" id="clear">clear</a>
	<input type="text" id="symbol" size="5" />
	<a href="#" id="set">set</a>
	<a href="#" id="add">add</a><br />
	<a href="#" id="stop_animation">stop animation</a>
</div>

<div id="symbols">
	<a href="#" id="import">import</a>
	-
	<a href="#" id="export">export</a><br />
	<textarea id="exported_data"></textarea>
	<ul></ul>
</div>


<div id="example" style="clear:both;">
Sorry, no doc for now :p . Copy paste the text below to text area above and then click "import" to see a default charset in action.
<pre>{"A":[0,24,36,66,126,66,66,0],"B":[0,62,66,62,66,66,62,0],"C":[0,60,66,2,2,66,60,0],"D":[0,30,34,66,66,34,30,0],"E":[0,126,2,30,2,2,126,0],"F":[0,126,2,30,2,2,2,0],"G":[0,60,66,2,98,66,60,0],"H":[0,66,66,126,66,66,66,0],"I":[0,28,8,8,8,8,28,0],"J":[0,32,32,32,34,34,28,0],"K":[0,66,34,30,34,66,66,0],"L":[0,2,2,2,2,2,126,0],"M":[0,66,102,90,66,66,66,0],"N":[0,66,70,74,82,98,66,0],"O":[0,60,66,66,66,66,60,0],"P":[0,62,66,66,62,2,2,0],"Q":[0,124,66,66,124,64,64,0],"R":[0,62,66,62,66,66,66,0],"S":[0,124,2,60,64,64,62,0],"T":[0,62,8,8,8,8,8,0],"U":[0,66,66,66,66,66,60,0],"V":[0,66,66,66,36,36,24,0],"W":[0,66,66,66,90,102,66,0],"X":[0,66,36,24,24,36,66,0],"Y":[0,34,34,20,8,8,8,0],"Z":[0,126,32,16,8,4,126,0],"1":[0,16,24,16,16,16,56,0],"2":[0,62,64,32,24,4,126,0],"3":[0,126,64,120,64,64,126,0],"4":[0,66,66,66,126,64,64,0],"5":[0,126,2,62,64,64,62,0],"6":[0,124,2,62,66,66,60,0],"7":[0,124,64,32,32,16,16,0],"8":[0,60,66,60,66,66,60,0],"9":[0,60,66,66,124,64,62,0],"0":[0,60,98,82,74,70,60,0],"heart":[0,102,153,129,129,66,36,24],"happy":[60,66,165,129,165,153,66,60],"sad":[60,66,165,129,153,165,66,60],"snow":[0,73,42,28,127,28,42,73],"working":[[128,64,32,16,8,4,2,1],[0,0,192,48,12,3,0,0],[0,0,0,240,15,0,0,0],[0,0,0,15,240,0,0,0],[0,0,3,12,48,192,0,0],[1,2,4,8,16,32,64,128],[4,4,8,8,16,16,32,32],[8,8,8,8,16,16,16,16],[16,16,16,16,8,8,8,8],[32,32,16,16,8,8,4,4]],"transition1":[[0,0,0,24,24,0,0,0],[0,0,60,36,36,60,0,0],[0,126,66,66,66,66,126,0],[255,129,129,129,129,129,129,255],[0,0,0,0,0,0,0,0]],"transition2":[[255,0,0,0,0,0,0,0],[0,255,0,0,0,0,0,0],[0,0,255,0,0,0,0,0],[0,0,0,255,0,0,0,0],[0,0,0,0,255,0,0,0],[0,0,0,0,0,255,0,0],[0,0,0,0,0,0,255,0],[0,0,0,0,0,0,0,255],[0,0,0,0,0,0,0,0]],"transition3":[[1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2],[4,4,4,4,4,4,4,4],[8,8,8,8,8,8,8,8],[16,16,16,16,16,16,16,16],[32,32,32,32,32,32,32,32],[64,64,64,64,64,64,64,64],[128,128,128,128,128,128,128,128],[0,0,0,0,0,0,0,0]],"transition4":[[1,0,0,0,0,0,0,0],[2,1,0,0,0,0,0,0],[4,2,1,0,0,0,0,0],[8,4,2,1,0,0,0,0],[16,8,4,2,1,0,0,0],[32,16,8,4,2,1,0,0],[64,32,16,8,4,2,1,0],[128,64,32,16,8,4,2,1],[0,128,64,32,16,8,4,2],[0,0,128,64,32,16,8,4],[0,0,0,128,64,32,16,8],[0,0,0,0,128,64,32,16],[0,0,0,0,0,128,64,32],[0,0,0,0,0,0,128,64],[0,0,0,0,0,0,0,128],[0,0,0,0,0,0,0,0]],"transition5":[[0,0,0,24,24,0,0,0],[0,0,24,36,36,24,0,0],[0,24,36,66,66,36,24,0],[24,36,66,129,129,66,36,24],[36,66,129,0,0,129,66,36],[66,129,0,0,0,0,129,66],[129,0,0,0,0,0,0,129],[0,0,0,0,0,0,0,0]]}</pre>
</div>

</body>
</html>